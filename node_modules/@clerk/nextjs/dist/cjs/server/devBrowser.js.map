{"version":3,"sources":["../../../src/server/devBrowser.ts"],"sourcesContent":["// TODO: This is a duplicate of part of packages/clerk-js/src/utils/devBrowser.ts\n// TODO: To be removed when we can extract this utility to @clerk/shared\nexport const DEV_BROWSER_JWT_MARKER = '__clerk_db_jwt';\nconst DEV_BROWSER_JWT_MARKER_REGEXP = /__clerk_db_jwt\\[(.*)\\]/;\n\nfunction extractDevBrowserJWT(url: string): string {\n  const matches = url.match(DEV_BROWSER_JWT_MARKER_REGEXP);\n  return matches ? matches[1] : '';\n}\n\nexport function setDevBrowserJWTInURL(url: string, jwt?: string): string {\n  if (!jwt) {\n    return url;\n  }\n\n  const dbJwt = extractDevBrowserJWT(url);\n  if (dbJwt) {\n    url.replace(`${DEV_BROWSER_JWT_MARKER}[${dbJwt}]`, jwt);\n    return url;\n  }\n  const hasHash = (url || '').includes('#');\n  return `${url}${hasHash ? '' : '#'}${DEV_BROWSER_JWT_MARKER}[${(jwt || '').trim()}]`;\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEO,MAAM,yBAAyB;AACtC,MAAM,gCAAgC;AAEtC,SAAS,qBAAqB,KAAqB;AACjD,QAAM,UAAU,IAAI,MAAM,6BAA6B;AACvD,SAAO,UAAU,QAAQ,CAAC,IAAI;AAChC;AAEO,SAAS,sBAAsB,KAAa,KAAsB;AACvE,MAAI,CAAC,KAAK;AACR,WAAO;AAAA,EACT;AAEA,QAAM,QAAQ,qBAAqB,GAAG;AACtC,MAAI,OAAO;AACT,QAAI,QAAQ,GAAG,0BAA0B,UAAU,GAAG;AACtD,WAAO;AAAA,EACT;AACA,QAAM,WAAW,OAAO,IAAI,SAAS,GAAG;AACxC,SAAO,GAAG,MAAM,UAAU,KAAK,MAAM,2BAA2B,OAAO,IAAI,KAAK;AAClF;","names":[]}